{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\nimport pubsub from 'pubsub-js';\nexport default {\n  // eslint-disable-next-line vue/multi-word-component-names\n  name: 'School',\n  data: function data() {\n    return {\n      name: '尚硅谷',\n      address: '北京'\n    };\n  },\n  methods: {\n    demo: function demo(msgName, data) {\n      console.log('有人发布了hello消息, hello消息的回调执行了', msgName, data);\n    }\n  },\n  mounted: function mounted() {\n    // console.log('School',this)\n    // this.$bus.$on('hello',(data)=>{\n    // \tconsole.log('我是School组件，收到了数据',data)\n    // })\n    //第一种\n    // this.pubId = pubsub.subscribe('hello', (msgName, data)=>{\n    // \tconsole.log(this);\n    // \tconsole.log('有人发布了hello消息, hello消息的回调执行了',msgName,data)\n    // })\n    //第二种\n    this.pubId = pubsub.subscribe('hello', this.demo);\n  },\n  beforeDestroy: function beforeDestroy() {\n    // this.$bus.$off('hello')\n    pubsub.unsubscribe(this.pubId);\n  }\n};","map":{"version":3,"mappings":";;;;;;;AAQA;AACA;AACA;AACAA,gBAFA;AAGAC,MAHA,kBAGA;AACA;AACAD,iBADA;AAEAE;AAFA;AAIA,GARA;AASAC;AACAC,QADA,gBACAC,OADA,EACAJ,IADA,EACA;AACAK;AAEA;AAJA,GATA;AAeAC,SAfA,qBAeA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,GA7BA;AA8BAC,eA9BA,2BA8BA;AACA;AACAC;AACA;AAjCA","names":["name","data","address","methods","demo","msgName","console","mounted","beforeDestroy","pubsub"],"sourceRoot":"src/components","sources":["School.vue"],"sourcesContent":["<template>\r\n\t<div class=\"school\">\r\n\t\t<h2>学校名称：{{name}}</h2>\r\n\t\t<h2>学校地址：{{address}}</h2>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport pubsub from 'pubsub-js'\r\n\texport default {\r\n    // eslint-disable-next-line vue/multi-word-component-names\r\n\t\tname:'School',\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tname:'尚硅谷',\r\n\t\t\t\taddress:'北京',\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tdemo(msgName, data){\r\n\t\t\t\tconsole.log('有人发布了hello消息, hello消息的回调执行了',msgName,data)\r\n\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\t// console.log('School',this)\r\n\t\t\t// this.$bus.$on('hello',(data)=>{\r\n\t\t\t// \tconsole.log('我是School组件，收到了数据',data)\r\n\t\t\t// })\r\n\r\n\t\t\t//第一种\r\n\t\t\t// this.pubId = pubsub.subscribe('hello', (msgName, data)=>{\r\n\t\t\t// \tconsole.log(this);\r\n\t\t\t// \tconsole.log('有人发布了hello消息, hello消息的回调执行了',msgName,data)\r\n\t\t\t// })\r\n\t\t\t//第二种\r\n\t\t\tthis.pubId = pubsub.subscribe('hello', this.demo)\r\n\r\n\t\t},\r\n\t\tbeforeDestroy() {\r\n\t\t\t// this.$bus.$off('hello')\r\n\t\t\tpubsub.unsubscribe(this.pubId)\r\n\t\t},\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.school{\r\n\t\tbackground-color: skyblue;\r\n\t\tpadding: 5px;\r\n\t}\r\n</style>"]},"metadata":{},"sourceType":"module"}
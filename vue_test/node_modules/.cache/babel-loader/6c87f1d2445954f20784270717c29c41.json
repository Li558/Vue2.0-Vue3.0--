{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  // eslint-disable-next-line vue/multi-word-component-names\n  name: 'Search',\n  data: function data() {\n    return {\n      keyWord: ''\n    };\n  },\n  methods: {\n    searchUsers: function searchUsers() {\n      var _this = this;\n\n      // console.log(this);\n      //请求前更新List的数据\n      this.$bus.$emit('updateListData', {\n        isFirst: false,\n        isLoading: true,\n        errMsg: '',\n        users: []\n      });\n      this.$http.get(\"https://api.github.com/search/users?q=\".concat(this.keyWord)).then(function (response) {\n        console.log('请求成功了'); // this.$bus.$emit('updateListData' ,response.data.items)\n        // this.$bus.$emit('updateListData' ,false,false,'',response.data.items)\n        //请求成功后更新List的数据\n\n        _this.$bus.$emit('updateListData', {\n          isLoading: false,\n          errMsg: '',\n          users: response.data.items\n        });\n      }, function (error) {\n        //请求失败后更新List的数据\n        console.log('请求失败了', error.message);\n\n        _this.$bus.$emit('updateListData', {\n          isLoading: false,\n          errMsg: error.message,\n          users: []\n        });\n      });\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;AAWA;AACA;AACAA,gBAFA;AAGAC,MAHA,kBAGA;AACA;AACAC;AADA;AAGA,GAPA;AAQAC;AACAC,eADA,yBACA;AAAA;;AACA;AACA;AACA;AAAAC;AAAAC;AAAAC;AAAAC;AAAA;AAEA,yFACA;AACAC,6BADA,CAEA;AACA;AACA;;AACA;AAAAH;AAAAC;AAAAC;AAAA;AAEA,OARA,EASA;AACA;AACAC;;AACA;AAAAH;AAAAC;AAAAC;AAAA;AAEA,OAdA;AAiBA;AAvBA;AARA","names":["name","data","keyWord","methods","searchUsers","isFirst","isLoading","errMsg","users","console"],"sourceRoot":"21_src_github搜索案例_vue-resource/components","sources":["Search.vue"],"sourcesContent":["<template>\r\n    <section class=\"jumbotron\">\r\n\t\t<h3 class=\"jumbotron-heading\">Search Github Users</h3>\r\n\t\t<div>\r\n\t\t\t<input type=\"text\" placeholder=\"enter the name you search\" v-model=\"keyWord\"/>&nbsp;\r\n            <button @click=\"searchUsers\">Search</button>\r\n\t\t</div>\r\n    </section>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    // eslint-disable-next-line vue/multi-word-component-names\r\n    name: 'Search',\r\n    data(){\r\n        return {\r\n            keyWord: ''\r\n        }\r\n    },\r\n    methods: {\r\n        searchUsers(){\r\n            // console.log(this);\r\n            //请求前更新List的数据\r\n            this.$bus.$emit('updateListData' ,{isFirst: false, isLoading:true, errMsg: '', users:[]})\r\n\r\n            this.$http.get(`https://api.github.com/search/users?q=${this.keyWord}`).then(\r\n                response => {\r\n                    console.log('请求成功了')\r\n                    // this.$bus.$emit('updateListData' ,response.data.items)\r\n                    // this.$bus.$emit('updateListData' ,false,false,'',response.data.items)\r\n                    //请求成功后更新List的数据\r\n                    this.$bus.$emit('updateListData' ,{isLoading:false, errMsg: '', users: response.data.items})\r\n\r\n                },\r\n                error => {\r\n                    //请求失败后更新List的数据\r\n                    console.log('请求失败了', error.message);\r\n                    this.$bus.$emit('updateListData' ,{isLoading:false, errMsg: error.message, users: []})\r\n\r\n                }\r\n            )\r\n\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}